{% extends "base.html" %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>Dashboard</h1>
        <div class="admin-actions">
            <a href="{{ url_for('blog.create_post') }}" class="btn btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14" />
                </svg>
                New Post
            </a>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon blue">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                    <polyline points="14 2 14 8 20 8" />
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">{{ total_posts }}</span>
                <span class="stat-label">Total Posts</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon green">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <polyline points="9 11 12 14 22 4" />
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">{{ published_posts }}</span>
                <span class="stat-label">Published</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon yellow">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">{{ draft_posts }}</span>
                <span class="stat-label">Drafts</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon purple">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                    <circle cx="12" cy="12" r="3" />
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">{{ total_views }}</span>
                <span class="stat-label">Total Views</span>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="dashboard-grid">
        <div class="dashboard-card">
            <h2 class="card-title">Recent Posts</h2>
            {% if recent_posts %}
            <div class="recent-posts-list">
                {% for post in recent_posts %}
                <div class="recent-post-item">
                    <div class="recent-post-content">
                        <a href="{{ url_for('blog.edit_post', id=post.id) }}" class="recent-post-title">{{ post.title
                            }}</a>
                        <span class="recent-post-date">{{ post.created_at.strftime('%b %d, %Y') }}</span>
                    </div>
                    <span class="status-badge {{ 'published' if post.is_published else 'draft' }}">
                        {{ 'Published' if post.is_published else 'Draft' }}
                    </span>
                </div>
                {% endfor %}
            </div>
            <a href="{{ url_for('blog.admin_posts') }}" class="card-link">View all posts ‚Üí</a>
            {% else %}
            <p class="text-muted">No posts yet. Create your first post!</p>
            {% endif %}
        </div>

        <div class="dashboard-card">
            <h2 class="card-title">Quick Actions</h2>
            <div class="quick-actions">
                <a href="{{ url_for('blog.create_post') }}" class="quick-action">
                    <span class="quick-action-icon">‚úçÔ∏è</span>
                    <span>Write New Post</span>
                </a>
                <a href="{{ url_for('blog.admin_posts') }}" class="quick-action">
                    <span class="quick-action-icon">üìö</span>
                    <span>Manage Posts</span>
                </a>
                <a href="{{ url_for('blog.admin_about') }}" class="quick-action">
                    <span class="quick-action-icon">üìÑ</span>
                    <span>Edit About Page</span>
                </a>
                <a href="{{ url_for('auth.change_password') }}" class="quick-action">
                    <span class="quick-action-icon">üîê</span>
                    <span>Change Password</span>
                </a>
                <a href="{{ url_for('blog.index') }}" class="quick-action" target="_blank">
                    <span class="quick-action-icon">üåê</span>
                    <span>View Blog</span>
                </a>
                <a href="{{ url_for('auth.logout') }}" class="quick-action danger">
                    <span class="quick-action-icon">üö™</span>
                    <span>Logout</span>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}